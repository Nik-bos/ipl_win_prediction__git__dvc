schema: '2.0'
stages:
  load_data:
    cmd: python src/load_data.py --config params.yaml
    deps:
    - path: original_data/ipl_dataset.csv
      hash: md5
      md5: 93fa118986a7b380d56bcf3e05c7a8a0
      size: 8220218
    - path: src/load_data.py
      hash: md5
      md5: 04b7fae0c3a27261d7a924ba9a063ade
      size: 844
    - path: src/read_data.py
      hash: md5
      md5: 53ce203dd337e117104cdf9e7c4e9448
      size: 1016
    outs:
    - path: data/raw/raw_ipl_dataset.csv
      hash: md5
      md5: 69fa7c201df87246ac54137e64d62e38
      size: 7585099
  preprocess_data:
    cmd: python src/preprocess.py --config params.yaml
    deps:
    - path: data/raw/raw_ipl_dataset.csv
      hash: md5
      md5: 69fa7c201df87246ac54137e64d62e38
      size: 7585099
    - path: src/preprocess.py
      hash: md5
      md5: d1abc7ef3fd10d67ddc322a24663f27d
      size: 5704
    params:
      params.yaml:
        pipeline.pipeline_path: data/processed/ipl_preprocessor_pipeline.pkl
        split_data.trans_data_path: data/processed/ipl_preprocessed.csv
    outs:
    - path: data/processed/ipl_preprocessed.csv
      hash: md5
      md5: 0e9d9f353298c2fc97fad0f2f18b2e2f
      size: 29647575
    - path: data/processed/ipl_preprocessor_pipeline.pkl
      hash: md5
      md5: e69acb6fff4312cb87a95f629ccfd912
      size: 8858
  train_test_split:
    cmd: python src/train_test_split.py --config params.yaml
    deps:
    - path: data/processed/ipl_preprocessed.csv
      hash: md5
      md5: 0e9d9f353298c2fc97fad0f2f18b2e2f
      size: 29647575
    - path: src/read_data.py
      hash: md5
      md5: 53ce203dd337e117104cdf9e7c4e9448
      size: 1016
    - path: src/train_test_split.py
      hash: md5
      md5: 6dffbae80402a06922bfce4e9cbbe026
      size: 1891
    params:
      params.yaml:
        base.random_state: 1
        base.target_column: results
        split_data.test_size: 0.2
    outs:
    - path: data/processed/ipl_test.csv
      hash: md5
      md5: da165b470592f09ceba513351ef6c4f3
      size: 5888173
    - path: data/processed/ipl_train.csv
      hash: md5
      md5: 93338b91a2f329c52ff19c062dcfda99
      size: 23549288
  train_and_evaluate:
    cmd: python src/train_and_evaluate.py --config params.yaml
    deps:
    - path: data/processed/ipl_test.csv
      hash: md5
      md5: da165b470592f09ceba513351ef6c4f3
      size: 5888173
    - path: data/processed/ipl_train.csv
      hash: md5
      md5: 93338b91a2f329c52ff19c062dcfda99
      size: 23549288
    - path: src/train_and_evaluate.py
      hash: md5
      md5: 2b9f0661b53f4167d4b429b949901ffb
      size: 6870
    params:
      params.yaml:
        base.active_model: RandomForestClassifier
        models:
          RandomForestClassifier:
            parameters:
              n_estimators: 200
          DecisionTreeClassifier:
    outs:
    - path: models/model.joblib
      hash: md5
      md5: 4456ab5649ab8adae85d810e2cc20918
      size: 87918553
    - path: reports/conf_matrix.csv
      hash: md5
      md5: 88f10df5c942f019280b220105bb6517
      size: 61
    - path: reports/model_parameters.json
      hash: md5
      md5: b27d233253c192891e7ca856c155c358
      size: 665
    - path: reports/model_scores.json
      hash: md5
      md5: 60cfcda73b53d14d15b4c979709bcb3d
      size: 451
